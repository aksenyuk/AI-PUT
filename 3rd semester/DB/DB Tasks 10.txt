/* Lab 10 */

/* Task 2 */

ALTER TABLE projects 
ADD (CONSTRAINT pk_projects PRIMARY KEY(project_id), CONSTRAINT uk_projects_name UNIQUE(project_name), 
CONSTRAINT chk_projects_end_start_date CHECK(end_date > start_date),
CONSTRAINT chk_projects_budget CHECK(project_budget >= 0),
CONSTRAINT chk_projects_no_of_emp CHECK(number_of_emp >= 0))
MODIFY project_name NOT NULL
MODIFY start_date NOT NULL; 

/* Task 3 */

ALTER TABLE projects MODIFY number_of_emp NOT NULL; 

-- not succeded

UPDATE projects SET number_of_emp = 100;

ALTER TABLE projects MODIFY number_of_emp NOT NULL;

-- succeded

/* Task 4 */

ALTER TABLE projects ADD (manager_id integer, CONSTRAINT projects_fk_emps FOREIGN KEY(manager_id) REFERENCES employees(emp_id) ON DELETE CASCADE);
